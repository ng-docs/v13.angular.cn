{
  "id": "guide/update-to-latest-version",
  "title": "Update Angular",
  "contents": "\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/aio/aio/content/guide/update-to-latest-version.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"update-angular\" translation-result=\"on\">更新 Angular<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#update-angular\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"update-angular\">Update Angular<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#update-angular\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">本指南包含更新到 Angular 版本 13 的信息。</p><p translation-origin=\"off\">This guide contains information to update to Angular version 13.</p>\n\n<h2 id=\"update-angular-cli-applications\" translation-result=\"on\">更新 Angular CLI 应用程序<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#update-angular-cli-applications\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"update-angular-cli-applications\">Update Angular CLI applications<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#update-angular-cli-applications\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">有关如何更新到最新的 Angular 版本和利用 Angular 自动迁移工具的分步说明，请使用 <a href=\"https://update.angular.io\" title=\" Angular Update Guide\">update.angular.io</a> 上的交互式更新指南。</p><p translation-origin=\"off\">For step-by-step instructions on how to update to the latest Angular release and leverage the Angular automated migration tools, use the interactive update guide at <a href=\"https://update.angular.io\" title=\" Angular Update Guide\">update.angular.io</a>.</p>\n\n<h2 id=\"changes-and-deprecations-in-version-13\" translation-result=\"on\">版本 13 中的更改与弃用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#changes-and-deprecations-in-version-13\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"changes-and-deprecations-in-version-13\">Changes and deprecations in version 13<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#changes-and-deprecations-in-version-13\"><i class=\"material-icons\">link</i></a></h2>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">有关 Angular 的弃用和移除实践的信息，请参阅 <a href=\"guide/releases#deprecation-practices\" title=\"Deprecation practices - Angular versioning and releases | Angular\">Angular 版本发布实践</a>。</p><p translation-origin=\"off\">For information about the deprecation and removal practices of Angular, see <a href=\"guide/releases#deprecation-practices\" title=\"Deprecation practices - Angular versioning and releases | Angular\">Angular Release Practices</a>.</p>\n\n</div>\n<ul>\n<li>\n<p translation-result=\"on\"><strong>移除视图引擎</strong></p><p translation-origin=\"off\"><strong>Removal of View Engine</strong></p>\n\n<p translation-result=\"on\">需要使用 Ivy 构建所有应用程序和库。请参阅<a href=\"https://blog.angular.io/76c02f782aa4\" title=\"Upcoming improvements to Angular library distribution | Angular Blog\">即将到来的 Angular 库分发改进</a> 博客。</p><p translation-origin=\"off\">Requires all applications and libraries to build using Ivy.\nSee the <a href=\"https://blog.angular.io/76c02f782aa4\" title=\"Upcoming improvements to Angular library distribution | Angular Blog\">Upcoming improvements to Angular library distribution</a> blog.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>Angular 包格式 (APF) 的现代化</strong></p><p translation-origin=\"off\"><strong>Modernization of the Angular Package Format (APF)</strong></p>\n\n<p translation-result=\"on\">移除了旧的输出格式，包括视图引擎特有的元数据。</p><p translation-origin=\"off\">Removed older output formats, including View Engine specific metadata.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>移除对 IE11 的支持</strong></p><p translation-origin=\"off\"><strong>Removal of IE11 Support</strong></p>\n\n<p translation-result=\"on\">移除对 Microsoft Internet Explorer 11 (IE11) 的所有支持。请参阅 <a href=\"https://github.com/angular/angular/issues/41840\" title=\"RFC: Internet Explorer 11 support deprecation and removal #41840 | angular/angular | GitHub\">问题 #41840</a>。</p><p translation-origin=\"off\">Removes all support for Microsoft Internet Explorer 11 (IE11).\nSee <a href=\"https://github.com/angular/angular/issues/41840\" title=\"RFC: Internet Explorer 11 support deprecation and removal #41840 | angular/angular | GitHub\">Issue #41840</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>测试平台模块清理</strong></p><p translation-origin=\"off\"><strong>Testbed module teardown</strong></p>\n\n<p translation-result=\"on\">在 <code>initTestEnvironment</code> 中添加选项以从应用程序中完全移除测试环境。请参阅 <a href=\"https://dev.to/this-is-angular/improving-angular-tests-by-enabling-angular-testing-module-teardown-38kh\" title=\"Improving Angular tests by enabling Angular testing module teardown | This is Angular | DEV Community\">通过启用 Angular 测试模块清理来改进 Angular 测试</a> 文章。</p><p translation-origin=\"off\">Adds the option in <code>initTestEnvironment</code> to completely remove test environments from an application.\nSee the <a href=\"https://dev.to/this-is-angular/improving-angular-tests-by-enabling-angular-testing-module-teardown-38kh\" title=\"Improving Angular tests by enabling Angular testing module teardown | This is Angular | DEV Community\">Improving Angular tests by enabling Angular testing module teardown</a> article.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong><code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> 标记的消息字符串</strong></p><p translation-origin=\"off\"><strong><code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> tagged message strings</strong></p>\n\n<p translation-result=\"on\">添加 Angular <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> API 和标记消息字符串的文档。</p><p translation-origin=\"off\">Adds documentation for the Angular <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> API and tagged message strings.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>磁盘缓存</strong></p><p translation-origin=\"off\"><strong>Disk Cache</strong></p>\n\n<p translation-result=\"on\">默认情况下会为所有应用程序启用持久构建缓存。请参阅 <a href=\"https://github.com/angular/angular-cli/issues/21545\" title=\"[RFC] Persistent build cache by default #21545 | angular/angular-cli | GitHub\">问题 #21545</a>。</p><p translation-origin=\"off\">Enables the persistent build cache by default for all applications.\nSee <a href=\"https://github.com/angular/angular-cli/issues/21545\" title=\"[RFC] Persistent build cache by default #21545 | angular/angular-cli | GitHub\">Issue #21545</a>.</p>\n\n</li>\n</ul>\n<h3 id=\"breaking-changes-in-angular-version-13\" translation-result=\"on\">Angular 版本 13 中的重大变化<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#breaking-changes-in-angular-version-13\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"breaking-changes-in-angular-version-13\">Breaking changes in Angular version 13<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#breaking-changes-in-angular-version-13\"><i class=\"material-icons\">link</i></a></h3>\n\n<a id=\"breaking-changes\"></a>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"><p translation-result=\"on\">详情</p><p translation-origin=\"off\">Details</p></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43642\" title=\"feat(core): drop support for TypeScript 4.2 and 4.3 #43642 | angular/angular | GitHub\"><strong>PR #43642</strong></a></p><p><a href=\"https://github.com/angular/angular/pull/43642\" title=\"feat(core): drop support for TypeScript 4.2 and 4.3 #43642 | angular/angular | GitHub\"> <strong>PR #43642</strong> </a></p></td>\n<td align=\"left\"><p translation-result=\"on\">不再支持 <code>4.4.2</code> 之前的 TypeScript 版本。</p><p translation-origin=\"off\">TypeScript versions older than <code>4.4.2</code> are no longer supported.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43740\" title=\"feat(bazel): expose esm2020 and es2020 conditions in APF package exports #43740 | angular/angular | GitHub\"><strong>PR #43740</strong></a></p><p><a href=\"https://github.com/angular/angular/pull/43740\" title=\"feat(bazel): expose esm2020 and es2020 conditions in APF package exports #43740 | angular/angular | GitHub\"> <strong>PR #43740</strong> </a></p></td>\n<td align=\"left\"><p translation-result=\"on\">不再支持早于 <code>v12.20.0</code> 的 NodeJS 版本。 Angular 包现在使用带有子路径模式的 NodeJS 包导出功能，并且需要高于 <code>14.15.0</code> 或 <code>16.10.0</code> 的 NodeJS 版本。</p><p translation-origin=\"off\">NodeJS versions older than <code>v12.20.0</code> are no longer supported. The Angular packages now use the NodeJS package exports feature with subpath patterns and requires a NodeJS version above <code>14.15.0</code> or <code>16.10.0</code>.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/31187\" title=\"fix(router): Allow question marks in query param values #31187 | angular/angular | GitHub\">PR #31187</a></p><p><a href=\"https://github.com/angular/angular/pull/31187\" title=\"fix(router): Allow question marks in query param values #31187 | angular/angular | GitHub\">PR #31187</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">以前，默认的 url 序列化程序移除了查询参数中包含问号之后的所有内容。也就是说，如果要导航到 <code>/path?q=hello?&#x26;other=123</code>，查询参数解析为仅 <code>{q: 'hello'}</code>。这是不正确的，因为 URI 规范允许在查询数据中使用问号字符。此更改现在会正确地将 <code>/path?q=hello?&#x26;other=123</code> 的查询参数解析为 <code>{v: 'hello?', other: '123'}</code>。</p><p translation-origin=\"off\">Previously, the default url serializer dropped everything after and including a question mark in query parameters. That is, for a navigation to <code>/path?q=hello?&#x26;other=123</code>, the query parameters parsed to just <code>{q: 'hello'}</code>. This is incorrect, because the URI spec allows for question mark characers in query data. This change now correctly parses the query parameters for <code>/path?q=hello?&#x26;other=123</code> as <code>{v: 'hello?', other: '123'}</code>.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/41730\" title=\"fix(common): synchronise location mock behavior with the navigators #41730 | angular/angular | GitHub\">PR #41730</a></p><p><a href=\"https://github.com/angular/angular/pull/41730\" title=\"fix(common): synchronise location mock behavior with the navigators #41730 | angular/angular | GitHub\">PR #41730</a></p></td>\n<td align=\"left\"><p translation-result=\"on\"><code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> 使用的 <code><a href=\"api/router/testing/RouterTestingModule\" class=\"code-anchor\">RouterTestingModule</a></code> 的行为已更改以匹配浏览器的行为。当 <code>Location.go</code> 被调用时，它不再发出 <code>popstate</code> 事件。此外， <code>simulateHashChange</code> 现在会<em>同时</em>触发 <code>hashchange</code> 事件和 <code>popstate</code> 事件。那些用到了 <code>location.go</code> 并期望 <code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> 获取更改的测试应迁移到 <code>simulateHashChange</code>。每个测试尝试断言的内容都不同，因此没有任何一种改法能适用于所有测试。每个使用 <code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> 来模拟浏览器 URL 更改的测试都应根据具体情况进行评估。</p><p translation-origin=\"off\">The behavior of the <code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> used by the <code><a href=\"api/router/testing/RouterTestingModule\" class=\"code-anchor\">RouterTestingModule</a></code> has changed to match the behavior of browsers. It no longer emits a <code>popstate</code> event when <code>Location.go</code> is called. In addition, <code>simulateHashChange</code> now triggers <em>both</em> a <code>hashchange</code> event and a <code>popstate</code> event. Tests that use <code>location.go</code> and expect the changes to be picked up by the <code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> should migrate to <code>simulateHashChange</code>. Each test is different in what it attempts to assert, so there is no single change that works for all tests. Each test that uses the <code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> to simulate changes in the browser URL should be evaluated on a case-by-case basis.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/42952\" title=\"feat(forms): Give form statuses a more specific type #42952 | angular/angular | GitHub\">PR #42952</a></p><p><a href=\"https://github.com/angular/angular/pull/42952\" title=\"feat(forms): Give form statuses a more specific type #42952 | angular/angular | GitHub\">PR #42952</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">引入了一种称为 <code><a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a></code> 的新类型，它是表单控件所有可能状态字符串的联合。 <code><a href=\"api/forms/AbstractControl#status\" class=\"code-anchor\">AbstractControl.status</a></code> 已经从 <code>string</code> 收窄到 <code><a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a></code> ， <code>statusChanges</code> 已经从 <code>Observable&#x3C;any></code> 收窄到 <code>Observable&#x3C;<a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a>></code> 。大多数应用程序应该都能无缝地使用新类型。此更改导致的任何损坏都可能是由于以下两个问题之一造成的：<br> 1. 该应用程序正在将 <code><a href=\"api/forms/AbstractControl#status\" class=\"code-anchor\">AbstractControl.status</a></code> 与无效的状态字符串进行比较。<br> 2. 该应用程序正在使用 <code>statusChanges</code> 事件，而它们不是字符串。</p><p translation-origin=\"off\">A new type called <code><a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a></code> has been introduced, which is a union of all possible status strings for form controls. <code><a href=\"api/forms/AbstractControl#status\" class=\"code-anchor\">AbstractControl.status</a></code> has been narrowed from <code>string</code> to <code><a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a></code>, and <code>statusChanges</code> has been narrowed from <code>Observable&#x3C;any></code> to <code>Observable&#x3C;<a href=\"api/forms/FormControlStatus\" class=\"code-anchor\">FormControlStatus</a>></code>. Most applications should consume the new types seamlessly. Any breakage caused by this change is likely due to one of the following two problems: <br> 1. The app is comparing <code><a href=\"api/forms/AbstractControl#status\" class=\"code-anchor\">AbstractControl.status</a></code> against a string which is not a valid status.<br> 2. The app is using <code>statusChanges</code> events as if they were something other than strings.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43087\" title=\"fix(router): null/undefined routerLink should disable navigation #43087 | angular/angular | GitHub\">PR #43087</a></p><p><a href=\"https://github.com/angular/angular/pull/43087\" title=\"fix(router): null/undefined routerLink should disable navigation #43087 | angular/angular | GitHub\">PR #43087</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">以前， <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code> 的 <code>null</code> 和 <code>undefined</code> 输入等效于空字符串，并且无法禁用链接的导航。此外，<code>href</code> 从 <code><a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>()</code> Property 绑定更改为 Attribute 绑定（ <code><a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('attr.href')</code> ）。此更改的效果是 <code><a href=\"api/core/DebugElement#properties\" class=\"code-anchor\">DebugElement.properties</a>['href']</code> 现在会返回由原生元素返回的 <code>href</code> 值，该值是完整的 URL，而不是 <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code> <code>href</code> 属性的内部值。</p><p translation-origin=\"off\">Previously ,<code>null</code> and <code>undefined</code> inputs for <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code> were equivalent to empty string and there was no way to disable the navigation of the link. In addition, the <code>href</code> is changed from a property <code><a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>()</code> to an attribute binding (<code><a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('attr.href')</code>). The effect of this change is that <code><a href=\"api/core/DebugElement#properties\" class=\"code-anchor\">DebugElement.properties</a>['href']</code> now returns the <code>href</code> value returned by the native element which is the full URL rather than the internal value of the <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code> <code>href</code> property.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43496\" title=\"fix(router): Prevent URL flicker when new navigations cancel ongoing ... #43496 | angular/angular | GitHub\">PR #43496</a></p><p><a href=\"https://github.com/angular/angular/pull/43496\" title=\"fix(router): Prevent URL flicker when new navigations cancel ongoing ... #43496 | angular/angular | GitHub\">PR #43496</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">当新导航取消了正在进行的导航时，路由器不再替换浏览器 URL。浏览器 URL 的替换经常导致 URL 闪烁，这只是为了支持一些 AngularJS 混合应用程序。依赖于 Angular 路由器处理的每个初始导航上存在 <code>navigationId</code> 的混合应用程序应改为订阅 <code><a href=\"api/router/NavigationCancel\" class=\"code-anchor\">NavigationCancel</a></code> 事件并手动执行 <code>location.replaceState</code> 以将 <code>navigationId</code> 添加到路由器状态中。此外，应调整在 <code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> 上断言 <code>urlChanges</code> 的测试以解决缺少 <code>replaceState</code> 触发器的问题。</p><p translation-origin=\"off\">The router no longer replaces the browser URL when a new navigation cancels an ongoing navigation. The replacement of the browser URL often caused URL flicker and was only in place to support some AngularJS hybrid applications. Hybrid applications which rely on the presence of <code>navigationId</code> on each initial navigation handled by the Angular router should instead subscribe to <code><a href=\"api/router/NavigationCancel\" class=\"code-anchor\">NavigationCancel</a></code> events and manually perform the <code>location.replaceState</code> to add <code>navigationId</code> to the Router state.<br>In addition, tests that assert <code>urlChanges</code> on the <code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code> should be adjusted to account for the lack of the <code>replaceState</code> trigger.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43507\" title=\"perf(core): remove support for the deprecated WrappedValue #43507 | angular/angular | GitHub\">PR #43507</a></p><p><a href=\"https://github.com/angular/angular/pull/43507\" title=\"perf(core): remove support for the deprecated WrappedValue #43507 | angular/angular | GitHub\">PR #43507</a></p></td>\n<td align=\"left\"><p translation-result=\"on\"><code>WrappedValue</code> 类不再从 <code>@angular/core</code> 导入。如果使用依赖 <code>WrappedValue</code> 的过时库，则此更改可能会导致编译错误或运行时失败。由于没有可用的替代品，因此应移除对 <code>WrappedValue</code> 的依赖。</p><p translation-origin=\"off\">The <code>WrappedValue</code> class is no longer imported from <code>@angular/core</code>. This change may result in compile errors or failures at runtime, if outdated libraries are used that rely on <code>WrappedValue</code>. Dependancy on <code>WrappedValue</code> should be removed since no replacement is available.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43591\" title=\"refactor(router): remove support for loadChildren string syntax #43591 | angular/angular | GitHub\">PR #43591</a></p><p><a href=\"https://github.com/angular/angular/pull/43591\" title=\"refactor(router): remove support for loadChildren string syntax #43591 | angular/angular | GitHub\">PR #43591</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">不能再将 <code><a href=\"api/router/Route#loadChildren\" class=\"code-anchor\">Route.loadChildren</a></code> 与字符串值一起使用。从 <code>@angular/core</code> 中移除了以下支持类： <br> * <code>NgModuleFactoryLoader</code> <br> * <code>SystemJsNgModuleFactoryLoader</code><br> <code>@angular/router</code> 包不再导出下列符号： <br> * <code>SpyNgModuleFactoryLoader</code><br> * <code>DeprecatedLoadChildren</code><br> 来自 <code>@angular/core/testing</code> 的 <code><a href=\"api/router/testing/setupTestingRouter\" class=\"code-anchor\">setupTestingRouter</a></code> 函数的签名已更改，移除了 <code>NgModuleFactoryLoader</code> 参数，因为无法创建该参数的值。</p><p translation-origin=\"off\">It is no longer possible to use <code><a href=\"api/router/Route#loadChildren\" class=\"code-anchor\">Route.loadChildren</a></code> with a string value. The following supporting classes were removed from <code>@angular/core</code>: <br> * <code>NgModuleFactoryLoader</code> <br> * <code>SystemJsNgModuleFactoryLoader</code><br> The <code>@angular/router</code> package no longer exports the following symbols: <br> * <code>SpyNgModuleFactoryLoader</code><br> * <code>DeprecatedLoadChildren</code><br> The signature of the <code><a href=\"api/router/testing/setupTestingRouter\" class=\"code-anchor\">setupTestingRouter</a></code> function from <code>@angular/core/testing</code> was changed to drop the <code>NgModuleFactoryLoader</code> parameter, since an value for that parameter can not be created.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p><a href=\"https://github.com/angular/angular/pull/43668\" title=\"feat(service-worker): improve ergonomics of the SwUpdate APIs #43668 | angular/angular | GitHub\">PR #43668</a></p><p><a href=\"https://github.com/angular/angular/pull/43668\" title=\"feat(service-worker): improve ergonomics of the SwUpdate APIs #43668 | angular/angular | GitHub\">PR #43668</a></p></td>\n<td align=\"left\"><p translation-result=\"on\"><code><a href=\"api/service-worker/SwUpdate\" class=\"code-anchor\">SwUpdate</a>#activateUpdate</code> 和 <code><a href=\"api/service-worker/SwUpdate\" class=\"code-anchor\">SwUpdate</a>#checkForUpdate</code> 的返回类型更改为 <code>Promise&#x3C;boolean></code> 。<br>尽管不太可能，但在某些情况下，此更改可能会导致 TypeScript 类型检查失败。如有必要，请更新你的类型以说明新的返回类型。</p><p translation-origin=\"off\">The return type of <code><a href=\"api/service-worker/SwUpdate\" class=\"code-anchor\">SwUpdate</a>#activateUpdate</code> and <code><a href=\"api/service-worker/SwUpdate\" class=\"code-anchor\">SwUpdate</a>#checkForUpdate</code> changed to <code>Promise&#x3C;boolean></code>.<br>Although unlikely, this change may cause TypeScript type-checking to fail in some cases. If necessary, update your types to account for the new return type.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"https://github.com/angular/angular-cli/issues/22159\" title=\"Script imports are modules by default #22159 | angular/angular-cli | GitHub\">问题 #22159</a></p><p translation-origin=\"off\"><a href=\"https://github.com/angular/angular-cli/issues/22159\" title=\"Script imports are modules by default #22159 | angular/angular-cli | GitHub\">Issue #22159</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">通过动态 <code>import()</code> 加载的脚本现在被视为 ES 模块（意味着它们必须是严格模式兼容的）。</p><p translation-origin=\"off\">Scripts that load via dynamic <code>import()</code> are now treated as ES modules (meaning they must be strict mode-compatible).</p></td>\n</tr>\n\n</tbody>\n</table>\n<h3 id=\"new-deprecations\" translation-result=\"on\">新的弃用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#new-deprecations\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"new-deprecations\">New deprecations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-latest-version#new-deprecations\"><i class=\"material-icons\">link</i></a></h3>\n\n<a id=\"deprecations\"></a>\n<table>\n<thead>\n<tr>\n<th align=\"left\"><p translation-result=\"on\">已移除</p><p translation-origin=\"off\">Removed</p></th>\n<th align=\"left\"><p translation-result=\"on\">替代品</p><p translation-origin=\"off\">Replacement</p></th>\n<th align=\"left\"><p translation-result=\"on\">详情</p><p translation-origin=\"off\">Details</p></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><a href=\"api/core/getModuleFactory\" title=\"getModuleFactory | Core - API | Angular\"><code>getModuleFactory</code></a></td>\n<td align=\"left\"><a href=\"api/core/getNgModuleById\" title=\"getNgModuleById | Core - API | Angular\"><code>getNgModuleById</code></a></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/getModuleFactory\" title=\"getModuleFactory | Core - API | Angular\"> <code>getModuleFactory</code> </a></td>\n<td align=\"left\"><a href=\"api/core/getNgModuleById\" title=\"getNgModuleById | Core - API | Angular\"> <code>getNgModuleById</code> </a></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/ApplicationRef#bootstrap\" title=\"bootstrap - ApplicationRef | Core - API | Angular\"> <code>ApplicationRef.bootstrap</code> </a> 的基于工厂的签名</p><p translation-origin=\"off\">Factory-based signature of <a href=\"api/core/ApplicationRef#bootstrap\" title=\"bootstrap - ApplicationRef | Core - API | Angular\"><code>ApplicationRef.bootstrap</code></a></p></td>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/ApplicationRef#bootstrap\" title=\"bootstrap - ApplicationRef | Core - API | Angular\"> <code>ApplicationRef.bootstrap</code> </a>的基于类型的签名</p><p translation-origin=\"off\">Type-based signature of <a href=\"api/core/ApplicationRef#bootstrap\" title=\"bootstrap - ApplicationRef | Core - API | Angular\"><code>ApplicationRef.bootstrap</code></a></p></td>\n<td align=\"left\"><p translation-result=\"on\">使用基于类型的签名代替基于工厂的签名。</p><p translation-origin=\"off\">Use the Type-based signature in place of the Factory-based signature.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/core/PlatformRef#bootstrapModuleFactory\" title=\"bootstrapModuleFactory - PlatformRef | Core - API | Angular\"><code>PlatformRef.bootstrapModuleFactory</code></a></td>\n<td align=\"left\"><a href=\"api/core/PlatformRef#bootstrapModule\" title=\"bootstrapModule - PlatformRef | Core - API | Angular\"><code>PlatformRef.bootstrapModule</code></a></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/ModuleWithComponentFactories\" title=\"ModuleWithComponentFactories | Core - API | Angular\"><code>ModuleWithComponentFactories</code></a></td>\n<td align=\"left\"><p translation-result=\"on\">无</p><p translation-origin=\"off\">none</p></td>\n<td align=\"left\"></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/core/Compiler\" title=\"Compiler | Core - API | Angular\"><code>Compiler</code></a></td>\n<td align=\"left\"><p translation-result=\"on\">无</p><p translation-origin=\"off\">none</p></td>\n<td align=\"left\"></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/core/CompilerFactory\" title=\"CompilerFactory | Core - API | Angular\"><code>CompilerFactory</code></a></td>\n<td align=\"left\"><p translation-result=\"on\">无</p><p translation-origin=\"off\">none</p></td>\n<td align=\"left\"></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/core/NgModuleFactory\" title=\"NgModuleFactory | Core - API | Angular\"><code>NgModuleFactory</code></a></td>\n<td align=\"left\"><p translation-result=\"on\">非基于工厂的框架 API</p><p translation-origin=\"off\">Non-factory based framework APIs</p></td>\n<td align=\"left\"><p translation-result=\"on\">使用非基于工厂的框架 API，例如 <a href=\"api/core/PlatformRef#bootstrapModule\" title=\"bootstrapModule - PlatformRef | Core - API | Angular\"> <code>PlatformRef.bootstrapModule</code> </a> 和 <a href=\"api/core/createNgModuleRef\" title=\"createNgModuleRef | Core - API | Angular\"> <code>createNgModuleRef</code> </a>。</p><p translation-origin=\"off\">Use the non-factory based framework APIs, such as <a href=\"api/core/PlatformRef#bootstrapModule\" title=\"bootstrapModule - PlatformRef | Core - API | Angular\"><code>PlatformRef.bootstrapModule</code></a> and <a href=\"api/core/createNgModuleRef\" title=\"createNgModuleRef | Core - API | Angular\"><code>createNgModuleRef</code></a>.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/ViewContainerRef#createComponent\" title=\"createComponent - ViewContainerRef | Core - API | Angular\"> <code>ViewContainerRef.createComponent</code> </a>的基于工厂的签名</p><p translation-origin=\"off\">Factory-based signature of <a href=\"api/core/ViewContainerRef#createComponent\" title=\"createComponent - ViewContainerRef | Core - API | Angular\"><code>ViewContainerRef.createComponent</code></a></p></td>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/ViewContainerRef#createComponent\" title=\"createComponent - ViewContainerRef | Core - API | Angular\"> <code>ViewContainerRef.createComponent</code> </a> 基于类型的签名</p><p translation-origin=\"off\">Type-based signature of <a href=\"api/core/ViewContainerRef#createComponent\" title=\"createComponent - ViewContainerRef | Core - API | Angular\"><code>ViewContainerRef.createComponent</code></a></p></td>\n<td align=\"left\"><p translation-result=\"on\">使用基于类型的签名代替基于工厂的签名。</p><p translation-origin=\"off\">Use the Type-based signature in place of the Factory-based signature.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/testing/TestBed#inittestenvironment\" title=\"inittestenvironment - TestBed | Testing - Core - API | Angular\"> <code>TestBed.initTestEnvironment</code> 方法</a> 的 <code>aotSummaries</code> 参数</p><p translation-origin=\"off\"><code>aotSummaries</code> parameter of the <a href=\"api/core/testing/TestBed#inittestenvironment\" title=\"inittestenvironment - TestBed | Testing - Core - API | Angular\"><code>TestBed.initTestEnvironment</code> method</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">无</p><p translation-origin=\"off\">none</p></td>\n<td align=\"left\"></td>\n</tr>\n\n<tr>\n<td align=\"left\"><p translation-result=\"on\"><a href=\"api/core/testing/TestModuleMetadata\" title=\"TestModuleMetadata | Testing - Core - API | Angular\"> <code>TestModuleMetadata</code> 类型</a> 的 <code>aotSummaries</code> 参数</p><p translation-origin=\"off\"><code>aotSummaries</code> parameter of the <a href=\"api/core/testing/TestModuleMetadata\" title=\"TestModuleMetadata | Testing - Core - API | Angular\"><code>TestModuleMetadata</code> type</a></p></td>\n<td align=\"left\"><p translation-result=\"on\">无</p><p translation-origin=\"off\">none</p></td>\n<td align=\"left\"></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/platform-server/renderModuleFactory\" title=\"renderModuleFactory | Platform server - API | Angular\"><code>renderModuleFactory</code></a></td>\n<td align=\"left\"><a href=\"api/platform-server/renderModule\" title=\"renderModule | Platform server - API | Angular\"><code>renderModule</code></a></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><p><a href=\"api/service-worker/SwUpdate#activated\" title=\"activated - SwUpdate | Service worker - API | Angular\"><code>SwUpdate#activated</code></a></p><p><a href=\"api/service-worker/SwUpdate#activated\" title=\"activated - SwUpdate | Service worker - API | Angular\"> <code>SwUpdate#activated</code> </a></p></td>\n<td align=\"left\"><p><a href=\"api/service-worker/SwUpdate#activateUpdate\" title=\"activateUpdate - SwUpdate | Service worker - API | Angular\"><code>SwUpdate#activateUpdate()</code></a></p><p><a href=\"api/service-worker/SwUpdate#activateUpdate\" title=\"activateUpdate - SwUpdate | Service worker - API | Angular\"> <code>SwUpdate#activateUpdate()</code> </a></p></td>\n<td align=\"left\"><p translation-result=\"on\">使用 <a href=\"api/service-worker/SwUpdate#activateUpdate\" title=\"activateUpdate - SwUpdate | Service worker - API | Angular\"> <code>SwUpdate#activateUpdate()</code> </a> 的返回值。</p><p translation-origin=\"off\">Use the return value of <a href=\"api/service-worker/SwUpdate#activateUpdate\" title=\"activateUpdate - SwUpdate | Service worker - API | Angular\"><code>SwUpdate#activateUpdate()</code></a>.</p></td>\n</tr>\n\n<tr>\n<td align=\"left\"><a href=\"api/service-worker/SwUpdate#available\" title=\"available - SwUpdate | Service worker - API | Angular\"><code>SwUpdate#available</code></a></td>\n<td align=\"left\"><a href=\"api/service-worker/SwUpdate#versionUpdates\" title=\"versionUpdates - SwUpdate | Service worker - API | Angular\"><code>SwUpdate#versionUpdates</code></a></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>bind-input=\"value\"</code></td>\n<td align=\"left\"><code>[input]=\"value\"</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>bind-animate-trigger=\"value\"</code></td>\n<td align=\"left\"><code>[@<a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>]=\"value\"</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>on-click=\"onClick()\"</code></td>\n<td align=\"left\"><code>(click)=\"onClick()\"</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>bindon-ngModel=\"value\"</code></td>\n<td align=\"left\"><code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"value\"</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>ref-templateRef</code></td>\n<td align=\"left\"><code>#templateRef</code></td>\n<td align=\"left\"></td>\n</tr>\n</tbody>\n</table>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间： 2021/11/1</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/animations/trigger\n - api/common/testing/SpyLocation\n - api/core/ApplicationRef#bootstrap\n - api/core/Compiler\n - api/core/CompilerFactory\n - api/core/DebugElement#properties\n - api/core/HostBinding\n - api/core/ModuleWithComponentFactories\n - api/core/NgModuleFactory\n - api/core/PlatformRef#bootstrapModule\n - api/core/PlatformRef#bootstrapModuleFactory\n - api/core/ViewContainerRef#createComponent\n - api/core/createNgModuleRef\n - api/core/getModuleFactory\n - api/core/getNgModuleById\n - api/core/testing/TestBed#inittestenvironment\n - api/core/testing/TestModuleMetadata\n - api/forms/AbstractControl#status\n - api/forms/FormControlStatus\n - api/forms/NgModel\n - api/localize/init/$localize\n - api/platform-server/renderModule\n - api/platform-server/renderModuleFactory\n - api/router/NavigationCancel\n - api/router/Route#loadChildren\n - api/router/Router\n - api/router/RouterLink\n - api/router/testing/RouterTestingModule\n - api/router/testing/setupTestingRouter\n - api/service-worker/SwUpdate\n - api/service-worker/SwUpdate#activateUpdate\n - api/service-worker/SwUpdate#activated\n - api/service-worker/SwUpdate#available\n - api/service-worker/SwUpdate#versionUpdates\n - guide/releases#deprecation-practices\n - guide/update-to-latest-version#breaking-changes-in-angular-version-13\n - guide/update-to-latest-version#changes-and-deprecations-in-version-13\n - guide/update-to-latest-version#new-deprecations\n - guide/update-to-latest-version#update-angular\n - guide/update-to-latest-version#update-angular-cli-applications\n - https://blog.angular.io/76c02f782aa4\n - https://dev.to/this-is-angular/improving-angular-tests-by-enabling-angular-testing-module-teardown-38kh\n - https://github.com/angular/angular-cli/issues/21545\n - https://github.com/angular/angular-cli/issues/22159\n - https://github.com/angular/angular/issues/41840\n - https://github.com/angular/angular/pull/31187\n - https://github.com/angular/angular/pull/41730\n - https://github.com/angular/angular/pull/42952\n - https://github.com/angular/angular/pull/43087\n - https://github.com/angular/angular/pull/43496\n - https://github.com/angular/angular/pull/43507\n - https://github.com/angular/angular/pull/43591\n - https://github.com/angular/angular/pull/43642\n - https://github.com/angular/angular/pull/43668\n - https://github.com/angular/angular/pull/43740\n - https://github.com/ng-docs/angular-cn/edit/aio/aio/content/guide/update-to-latest-version.md?message=docs%3A%20请简述你的修改...\n - https://update.angular.io\n-->"
}